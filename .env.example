# ============================================================================
# VAAL AI Empire - Environment Configuration
# ============================================================================

# ----------------------------------------------------------------------------
# Core Application Settings
# ----------------------------------------------------------------------------
APP_ENV=development
DEBUG=false
LOG_LEVEL=INFO
SECRET_KEY=your-secret-key-change-this-in-production

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
DATABASE_URL=postgresql://user:password@localhost:5432/vaal_ai_empire
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ----------------------------------------------------------------------------
# Redis Configuration (for caching and rate limiting)
# ----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50

# ----------------------------------------------------------------------------
# LLM Provider Configuration
# ----------------------------------------------------------------------------
LLM_PROVIDER=huggingface  # Options: huggingface, zai, qwen, openai

# HuggingFace Configuration
HF_TOKEN=your-huggingface-token
HF_MODEL_PATH=/models
HF_CACHE_DIR=/cache/huggingface
HF_DEFAULT_MODEL=meta-llama/Llama-3.2-3B-Instruct
HF_DEVICE=cuda  # Options: cuda, cpu, mps

# Z.AI Configuration
ZAI_API_KEY=your-zai-api-key
ZAI_BASE_URL=https://api.z.ai/v1
ZAI_TIMEOUT=60
ZAI_MAX_RETRIES=3

# Qwen/Dashscope Configuration
QWEN_API_KEY=your-qwen-api-key
QWEN_BASE_URL=https://dashscope.aliyuncs.com/api/v1
QWEN_TIMEOUT=60
QWEN_MAX_RETRIES=3

# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_ORGANIZATION=your-org-id
OPENAI_TIMEOUT=60

# Anthropic Configuration
ANTHROPIC_API_KEY=your-anthropic-api-key
ANTHROPIC_BASE_URL=https://api.anthropic.com
ANTHROPIC_VERSION=2023-06-01

# ----------------------------------------------------------------------------
# Image Generation Configuration
# ----------------------------------------------------------------------------
IMAGE_GENERATION_PROVIDER=stability  # Options: stability, dalle, local

# Stability AI
STABILITY_API_KEY=your-stability-api-key
STABILITY_BASE_URL=https://api.stability.ai

# Local Stable Diffusion
SD_LOCAL_URL=http://localhost:7860
SD_MODEL=stabilityai/stable-diffusion-2-1

# ----------------------------------------------------------------------------
# Security Configuration
# ----------------------------------------------------------------------------
# Self-healing webhook authentication
SELF_HEALING_KEY=your-webhook-secret-change-this

# JWT Configuration
JWT_SECRET_KEY=your-jwt-secret-change-this
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ----------------------------------------------------------------------------
# Webhook Configuration
# ----------------------------------------------------------------------------
# Atlassian Webhooks
ATLASSIAN_WEBHOOK_SECRET=your-atlassian-webhook-secret
JIRA_BASE_URL=https://your-domain.atlassian.net
JIRA_API_TOKEN=your-jira-api-token
JIRA_USER_EMAIL=your-email@example.com
BITBUCKET_BASE_URL=https://api.bitbucket.org/2.0
BITBUCKET_USERNAME=your-username
BITBUCKET_APP_PASSWORD=your-app-password

# Webhook Deduplication
WEBHOOK_DEDUPE_TTL=300  # seconds
WEBHOOK_DEDUPE_MAX_SIZE=1000

# ----------------------------------------------------------------------------
# Monitoring & Observability
# ----------------------------------------------------------------------------
# Sentry
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Logging
LOG_FORMAT=json  # Options: json, text
LOG_FILE=/var/log/vaal_ai_empire/app.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# ----------------------------------------------------------------------------
# Storage Configuration
# ----------------------------------------------------------------------------
# File Storage
STORAGE_BACKEND=local  # Options: local, s3, gcs
UPLOAD_MAX_SIZE_MB=100
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,png,jpg,jpeg,gif

# S3 Configuration
S3_BUCKET=your-bucket-name
S3_REGION=us-east-1
S3_ACCESS_KEY=your-access-key
S3_SECRET_KEY=your-secret-key
S3_ENDPOINT=https://s3.amazonaws.com

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------
ENABLE_WEB_SEARCH=true
ENABLE_CODE_EXECUTION=true
ENABLE_FILE_CREATION=true
ENABLE_ARTIFACTS=true
ENABLE_MEMORY=true
ENABLE_DEEP_RESEARCH=true

# ----------------------------------------------------------------------------
# Performance Configuration
# ----------------------------------------------------------------------------
# Worker Configuration
WORKER_CONCURRENCY=4
WORKER_MAX_TASKS_PER_CHILD=1000
WORKER_PREFETCH_MULTIPLIER=4

# Timeout Configuration
REQUEST_TIMEOUT=300
LLM_TIMEOUT=120
WEBHOOK_TIMEOUT=30

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=10000

# ----------------------------------------------------------------------------
# Development & Testing
# ----------------------------------------------------------------------------
MOCK_EXTERNAL_APIS=false
TEST_DATABASE_URL=postgresql://user:password@localhost:5432/vaal_test
PYTEST_WORKERS=auto

# ----------------------------------------------------------------------------
# Deployment Configuration
# ----------------------------------------------------------------------------
# Docker
DOCKER_REGISTRY=your-registry.com
DOCKER_IMAGE_TAG=latest

# Kubernetes
K8S_NAMESPACE=vaal-ai-empire
K8S_REPLICAS=3
K8S_CPU_REQUEST=2000m
K8S_CPU_LIMIT=4000m
K8S_MEMORY_REQUEST=4Gi
K8S_MEMORY_LIMIT=8Gi

# Health Checks
HEALTHCHECK_INTERVAL=30
HEALTHCHECK_TIMEOUT=10
HEALTHCHECK_RETRIES=3

# ----------------------------------------------------------------------------
# Third-Party Integrations
# ----------------------------------------------------------------------------
# Slack
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_SIGNING_SECRET=your-signing-secret
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# GitHub
GITHUB_TOKEN=your-github-token
GITHUB_WEBHOOK_SECRET=your-github-webhook-secret

# Email (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@example.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true
EMAIL_FROM=noreply@yourdomain.com

# ----------------------------------------------------------------------------
# Security Headers & Policies
# ----------------------------------------------------------------------------
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'"

# ----------------------------------------------------------------------------
# Compliance & Privacy
# ----------------------------------------------------------------------------
GDPR_ENABLED=true
DATA_RETENTION_DAYS=365
ANONYMIZE_LOGS=true
PII_MASKING_ENABLED=true

# ----------------------------------------------------------------------------
# Backup Configuration
# ----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups
